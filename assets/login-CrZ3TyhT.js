import{_ as x}from"./index-0HfaaGH9.js";import{d as L,aB as E,az as R,aC as I,E as g,aq as S,z as A,F as T,a4 as B,H as P,aD as U,aE as $,ay as z,au as D,aF as v,at as V,_ as q,o as F,b as M,e as a,R as b,Y as j,a9 as l,w as h,Z as N,r as m,V as O}from"./index-Db-FQ22P.js";import H from"./ContainerLayout-B43ypLg0.js";import{T as Y}from"./Translations-C7G91SJq.js";import"./input--8unl-zZ.js";import"./castArray-J8ePl1Tc.js";import"./index-IJDhYw5y.js";import"./popper-BzL23jPR.js";const Z=L({name:"UserAccountLogin",components:{UserAccountContainerLayout:H,Promotion:E,Translations:Y},setup(){const{proxy:o}=V(),c=D(),d=R(),_=I(),n=g(!0),r=g(""),s=g(""),u=S({email:"vite.admin@gmail.com",password:"123456"}),e=A(),p=T(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:n.value,size:"large"},text:e.t("login.signin"),on:{click(i){f(i)}}}],formConfig:[{attrs:{prop:"email",error:r.value,rules(){return[o.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),o.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]}},label:e.t("login.email"),prefixIcon:v("span",{class:"text-16px i-ic:baseline-mail-lock"}),placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:s.value,rules(){return o.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})}},link:{text:e.t("login.fgtpwd"),click(){}},type:"password",label:e.t("login.pwd"),prefixIcon:v("span",{class:"text-16px i-ri:lock-password-fill"}),placeholder:e.t("login.plspwd")}]}));function t(i=!1){n.value=i}function f(i){n.value||i.validate(async y=>{if(!y)return;r.value="",s.value="",t(!0);const{error:k,data:w,msg:C}=await c.dispatch(U.getAction("login"),u);if(k){r.value=" ",s.value=C,t(!1);return}$.set("token",w.user.token),_.replace(`/${d.params.locale||""}`).then(()=>{z.success({message:e.t("login.loginSuccess")})}).catch(()=>{})})}return t(!0),B(()=>{P(()=>{t(!1)})}),{isLoading:n,inputErrorEmail:r,inputErrorPassword:s,formData:u,configLogin:p,setLoading:t,onSubmit:f}}}),G={class:"user-account-nav"},J={class:"nav-left"},K={class:"nav-title"},Q={class:"nav-right"},W={class:"user-account-body"};function X(o,c,d,_,n,r){const s=m("Translations"),u=m("Promotion"),e=O,p=m("UserAccountContainerLayout"),t=x;return F(),M("div",{class:b(["user-account-login",["bgimage-images-logo-background-jpg","bg-cover bg-no-repeat bg-center"]])},[a("div",G,[a("div",J,[a("div",{class:b(["nav-logo",["bgimage-images-vue-svg","bg-contain bg-no-repeat bg-center"]])}),c[0]||(c[0]=a("div",{class:"nav-circle"},null,-1)),a("div",K,j(o._t("base.systemTitle")),1)]),a("div",Q,[l(s,{dark:""})])]),a("div",W,[l(p,N(o.configLogin,{"form-data":o.formData,onOnSubmit:o.onSubmit}),{titleIcon:h(()=>[l(e,null,{default:h(()=>[l(u)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),l(t)])}const le=q(Z,[["render",X],["__scopeId","data-v-515e44cd"]]);export{le as default};
