import{d as I,aG as L,aE as S,aH as C,E as d,as as E,z as R,F as A,a4 as T,H as U,aI as M,aJ as P,aD as $,ax as B,aK as v,aw as D,_ as F,o as V,b as q,e as s,X as z,aa as c,w as h,Y as H,r as u,at as N,au as O,U as j}from"./index-4eUI3RXZ.js";import G from"./ContainerLayout-DJG8rrW9.js";import{T as J}from"./Translations-D9arvEfq.js";import"./input-Cc5g2rLc.js";import"./flatten-Z-eG8sMe.js";const K=I({name:"UserAccountLogin",components:{UserAccountContainerLayout:G,Promotion:L,Translations:J},setup(){const{proxy:o}=D(),m=B(),g=S(),_=C(),n=d(!0),r=d(""),a=d(""),l=E({email:"vite.admin@gmail.com",password:"123456"}),e=R(),p=A(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:n.value,size:"large"},text:e.t("login.signin"),on:{click(i){f(i)}}}],formConfig:[{attrs:{prop:"email",error:r.value,rules(){return[o.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),o.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]}},label:e.t("login.email"),prefixIcon:v("span",{class:"text-16px i-ic:baseline-mail-lock"}),placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:a.value,rules(){return o.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})}},link:{text:e.t("login.fgtpwd"),click(){}},type:"password",label:e.t("login.pwd"),prefixIcon:v("span",{class:"text-16px i-ri:lock-password-fill"}),placeholder:e.t("login.plspwd")}]}));function t(i=!1){n.value=i}function f(i){n.value||i.validate(async w=>{if(!w)return;r.value="",a.value="",t(!0);const{error:b,data:k,msg:x}=await m.dispatch(M.getAction("login"),l);if(b){r.value=" ",a.value=x,t(!1);return}P.set("token",k.user.token),_.replace(`/${g.params.locale||""}`).then(()=>{$.success({message:e.t("login.loginSuccess")})}).catch(()=>{})})}return t(!0),T(()=>{U(()=>{t(!1)})}),{isLoading:n,inputErrorEmail:r,inputErrorPassword:a,formData:l,configLogin:p,setLoading:t,onSubmit:f}}}),y=o=>(N("data-v-76e1a1fe"),o=o(),O(),o),X={class:"user-account-login"},Y={class:"user-account-nav"},Q={class:"nav-left"},W=y(()=>s("div",{class:"nav-logo"},null,-1)),Z=y(()=>s("div",{class:"nav-circle"},null,-1)),ee={class:"nav-title"},oe={class:"nav-right"},te={class:"user-account-body"};function se(o,m,g,_,n,r){const a=u("Translations"),l=u("Promotion"),e=j,p=u("UserAccountContainerLayout"),t=u("MyFooter");return V(),q("div",X,[s("div",Y,[s("div",Q,[W,Z,s("div",ee,z(o._t("base.systemTitle")),1)]),s("div",oe,[c(a,{dark:""})])]),s("div",te,[c(p,H(o.configLogin,{"form-data":o.formData,onOnSubmit:o.onSubmit}),{titleIcon:h(()=>[c(e,null,{default:h(()=>[c(l)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),c(t)])}const le=F(K,[["render",se],["__scopeId","data-v-76e1a1fe"]]);export{le as default};
