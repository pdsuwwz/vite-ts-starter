import{_ as L}from"./index-B45DlZLv.js";import{d as I,aG as R,ax as S,B as g,av as A,J as E,O as T,a7 as $,a4 as B,ay as D,aH as P,aI as U,aJ as M,aF as O,aD as v,aK as b,_ as V,b as j,e as a,ac as l,G as h,a2 as q,w as y,D as z,r as m,o as F,a0 as G}from"./index-CIcBLtMk.js";import J from"./ContainerLayout-DuY4TepQ.js";import{T as N}from"./Translations-BQrGoFRt.js";import"./input-BfBSpni-.js";import"./index-CENDzMlX.js";import"./castArray-V7PQxblr.js";import"./popper-BVq1BbQ6.js";const H=I({name:"UserAccountLogin",components:{UserAccountContainerLayout:J,Promotion:R,Translations:N},setup(){const{proxy:o}=S(),c=D(),d=O(),f=M(),n=g(!0),r=g(""),s=g(""),u=A({email:"vite.admin@gmail.com",password:"123456"}),e=E(),p=T(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:n.value,size:"large"},text:e.t("login.signin"),on:{click(i){_(i)}}}],formConfig:[{attrs:{prop:"email",error:r.value,rules(){return[o.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),o.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]}},label:e.t("login.email"),prefixIcon:b("span",{class:"text-16px i-ic:baseline-mail-lock"}),placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:s.value,rules(){return o.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})}},link:{text:e.t("login.fgtpwd"),click(){v.info({message:`ðŸ˜„ ${e.t("login.fgtpwd")}`})}},type:"password",label:e.t("login.pwd"),prefixIcon:b("span",{class:"text-16px i-ri:lock-password-fill"}),placeholder:e.t("login.plspwd")}]}));function t(i=!1){n.value=i}function _(i){n.value||i.validate(async w=>{if(!w)return;r.value="",s.value="",t(!0);const{error:k,data:x,msg:C}=await c.dispatch(P.getAction("login"),u);if(k){r.value=" ",s.value=C,t(!1);return}U.set("token",x.user.token),f.replace(`/${d.params.locale||""}`).then(()=>{v.success({message:e.t("login.loginSuccess")})}).catch(()=>{})})}return t(!0),$(()=>{B(()=>{t(!1)})}),{isLoading:n,inputErrorEmail:r,inputErrorPassword:s,formData:u,configLogin:p,setLoading:t,onSubmit:_}}}),K={class:"user-account-nav"},Q={class:"nav-left"},W={class:"nav-title"},X={class:"nav-right"},Y={class:"user-account-body"};function Z(o,c,d,f,n,r){const s=m("Translations"),u=m("Promotion"),e=G,p=m("UserAccountContainerLayout"),t=L;return F(),j("div",{class:h(["user-account-login",["bgimage-images-logo-background-jpg","bg-cover bg-no-repeat bg-center"]])},[a("div",K,[a("div",Q,[a("div",{class:h(["nav-logo",["bgimage-images-logo-svg","bg-contain bg-no-repeat bg-center"]])}),c[0]||(c[0]=a("div",{class:"nav-circle"},null,-1)),a("div",W,q(o._t("base.systemTitle")),1)]),a("div",X,[l(s,{dark:""})])]),a("div",Y,[l(p,z(o.configLogin,{"form-data":o.formData,onOnSubmit:o.onSubmit}),{titleIcon:y(()=>[l(e,null,{default:y(()=>[l(u)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),l(t)])}const le=V(H,[["render",Z],["__scopeId","data-v-a6a5ab75"]]);export{le as default};
