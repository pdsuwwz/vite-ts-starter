import{_ as C}from"./index-CE71QuEx.js";import{d as I,aD as L,aB as S,aE as E,E as p,aq as R,z as A,F as T,a4 as B,H as P,aF as U,aG as $,aA as D,aw as V,aH as v,av as q,_ as z,o as F,b as M,e as a,R as b,Y as j,a9 as c,w as h,Z as H,r as g,as as N,at as O,V as G}from"./index-CJhDSWO4.js";import Y from"./ContainerLayout--GgRwkR2.js";import{T as Z}from"./Translations-oJjZdNO-.js";import"./input-ia6aZGHT.js";import"./castArray-CMHVJWu9.js";import"./index-BKDqPDa8.js";import"./popper-W-9pk8Ye.js";const J=I({name:"UserAccountLogin",components:{UserAccountContainerLayout:Y,Promotion:L,Translations:Z},setup(){const{proxy:o}=q(),m=V(),d=S(),_=E(),n=p(!0),r=p(""),s=p(""),l=R({email:"vite.admin@gmail.com",password:"123456"}),e=A(),u=T(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:n.value,size:"large"},text:e.t("login.signin"),on:{click(i){f(i)}}}],formConfig:[{attrs:{prop:"email",error:r.value,rules(){return[o.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),o.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]}},label:e.t("login.email"),prefixIcon:v("span",{class:"text-16px i-ic:baseline-mail-lock"}),placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:s.value,rules(){return o.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})}},link:{text:e.t("login.fgtpwd"),click(){}},type:"password",label:e.t("login.pwd"),prefixIcon:v("span",{class:"text-16px i-ri:lock-password-fill"}),placeholder:e.t("login.plspwd")}]}));function t(i=!1){n.value=i}function f(i){n.value||i.validate(async w=>{if(!w)return;r.value="",s.value="",t(!0);const{error:y,data:k,msg:x}=await m.dispatch(U.getAction("login"),l);if(y){r.value=" ",s.value=x,t(!1);return}$.set("token",k.user.token),_.replace(`/${d.params.locale||""}`).then(()=>{D.success({message:e.t("login.loginSuccess")})}).catch(()=>{})})}return t(!0),B(()=>{P(()=>{t(!1)})}),{isLoading:n,inputErrorEmail:r,inputErrorPassword:s,formData:l,configLogin:u,setLoading:t,onSubmit:f}}}),K=o=>(N("data-v-515e44cd"),o=o(),O(),o),Q={class:"user-account-nav"},W={class:"nav-left"},X=K(()=>a("div",{class:"nav-circle"},null,-1)),ee={class:"nav-title"},oe={class:"nav-right"},te={class:"user-account-body"};function ae(o,m,d,_,n,r){const s=g("Translations"),l=g("Promotion"),e=G,u=g("UserAccountContainerLayout"),t=C;return F(),M("div",{class:b(["user-account-login",["bgimage-images-logo-background-jpg","bg-cover bg-no-repeat bg-center"]])},[a("div",Q,[a("div",W,[a("div",{class:b(["nav-logo",["bgimage-images-vue-svg","bg-contain bg-no-repeat bg-center"]])}),X,a("div",ee,j(o._t("base.systemTitle")),1)]),a("div",oe,[c(s,{dark:""})])]),a("div",te,[c(u,H(o.configLogin,{"form-data":o.formData,onOnSubmit:o.onSubmit}),{titleIcon:h(()=>[c(e,null,{default:h(()=>[c(l)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),c(t)])}const ge=z(J,[["render",ae],["__scopeId","data-v-515e44cd"]]);export{ge as default};
